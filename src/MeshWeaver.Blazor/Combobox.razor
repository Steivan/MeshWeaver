@using ComboboxAutocomplete = Microsoft.FluentUI.AspNetCore.Components.ComboboxAutocomplete
@using SelectPosition = Microsoft.FluentUI.AspNetCore.Components.SelectPosition
@inherits ListBase<ComboboxControl,Combobox>

<FluentCombobox 
    Label="@Label"
    Items="@Options"
    TOption="Option"
    OptionText="@(x => x.Text)"
    OptionValue="@(x => x.ItemString)"
    Autofocus="@ViewModel.Autofocus"
    Autocomplete="@Autocomplete"
    Placeholder="@ViewModel.Placeholder"
    Position="@Position"
    Disabled="@ViewModel.Disabled"
    Class="@Class"
    @bind-SelectedOption="Selected"
/>

@code
{
    private ComboboxAutocomplete Autocomplete => ViewModel.Autocomplete switch
    {
        Layout.ComboboxAutocomplete.Inline => ComboboxAutocomplete.Inline,
        Layout.ComboboxAutocomplete.List => ComboboxAutocomplete.List,
        Layout.ComboboxAutocomplete.Both => ComboboxAutocomplete.Both,
        _ => ComboboxAutocomplete.Inline
    };

    private SelectPosition? Position => ViewModel.Position?.ToFluentPosition();
}
