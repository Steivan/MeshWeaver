@using Icon = MeshWeaver.Application.Styles.Icon
@inherits InputBase<TextBoxControl,TextboxView, string>

<FluentTextField 
    @bind-Value="Data"
    Placeholder="@Placeholder"
    Label="@Label"
    Autofocus="@AutoFocus"
    Disabled="@Disabled"
    AutoComplete="@Autocomplete"
    Immediate="@Immediate"
    ImmediateDelay="@ImmediateDelay"
    Size="@Size"
    >
    @if (IconStart is not null)
    {
        <FluentIcon Value="@IconStart.ToFluentIcon()" Slot="start" />
    }
    @if (IconEnd is not null)
    {
        <FluentIcon Value="@IconEnd.ToFluentIcon()" Slot="end" />
    }
</FluentTextField>
    
@code
{
    private string Autocomplete { get; set; }
    private Icon IconStart { get; set; }
    private Icon IconEnd { get; set; }
    private int Size { get; set; }

    protected override void BindData()
    {
        base.BindData();

        if (ViewModel != null)
        {
            DataBind(ViewModel.Autocomplete, x => x.Autocomplete);
            DataBind(ViewModel.IconStart, x => x.IconStart);
            DataBind(ViewModel.IconEnd, x => x.IconEnd);
            DataBind(ViewModel.Size, x => x.Size);
        }
    }
}