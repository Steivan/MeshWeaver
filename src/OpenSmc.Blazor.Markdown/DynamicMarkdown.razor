@using System.Text.RegularExpressions

@inherits BlazorView<MarkdownControl>

@foreach (var contentItem in MarkdownContent)
{
    @if (contentItem is string html)
    {
        @((MarkupString)html);
    }
    else if (contentItem is LayoutAreaComponentInfo layoutArea)
    {
        <LayoutArea Address="@layoutArea.Address" Reference="@layoutArea.Reference" />
    }
}

@code 
{
    private List<object> MarkdownContent { get; set; }
    protected override void OnParametersSet()
    {
        base.OnParametersSet();
        DataBind<string>(ViewModel.Data, x => MarkdownContent = ParseListOfModels(x));
    }

    private List<object> ParseListOfModels(string markdown)
    {
         var pipeline = new MarkdownPipelineBuilder()
            .UseAdvancedExtensions()
            .Use<LayoutAreaExtension>(new LayoutAreaExtension(Stream.Hub))
            .Build();
return null;
    }
}
