@inherits BlazorView<DataGridControl>
@using System.Text.Json.Nodes

<FluentDataGrid Items="@QueryableData">
    @foreach (var column in ViewModel.Columns)
    {
        <PropertyColumn Property="@(x => GetValue(x, column.Property))" Sortable="@column.Sortable" Format="@column.Format"></PropertyColumn>

    }
</FluentDataGrid>

@code{
    private object GetValue(JsonObject obj, string propertyName)
        => obj.TryGetPropertyValue(propertyName, out var x) ? x : null;

    private IQueryable<JsonObject> QueryableData => ((System.Collections.IEnumerable)DataContext)?.Cast<JsonObject>()?.AsQueryable();
}