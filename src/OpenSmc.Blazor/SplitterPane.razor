@using System.Reactive.Linq
@inherits BlazorView<SplitterPaneControl>

<FluentMultiSplitterPane
    Collapsible="@ViewModel.Collapsible"
    Collapsed="@ViewModel.Collapsed"
    Max="@ViewModel.Max"
    Min="@ViewModel.Min"
    Size="@ViewModel.Size"
    Resizable="@ViewModel.Resizable"
    Class="@Class"
    >
    <DispatchView ViewModel="@contentViewModel" Stream="@Stream" Area="@ContentArea" />
</FluentMultiSplitterPane>


@code
{
    private string ContentArea => $"{Area}/{SplitterPaneControl.ChildContentArea}";
    
    private UiControl contentViewModel;
    
    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
        contentViewModel = GetControl(await Stream.FirstAsync(), ContentArea);
    }
}
